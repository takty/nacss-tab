window.NACSS=window.NACSS||{},function(t){function e(t){const e=t.children;for(let t=0;t<e.length;t+=1)if(/^H[1-6]$/.test(e[t].tagName))return e[t];return null}function n(t){const e=document.createElement("a");return e.href="#"+t.id,e.innerHTML=t.elm.innerHTML,e.querySelectorAll("small").forEach((t=>t.remove())),e.querySelectorAll("a").forEach((t=>t.remove())),e.title=e.innerText,e}function o(t,e,n){const o=n.substr(1);n.startsWith(":")?t?e.dataset[o]="":delete e.dataset[o]:t?e.classList.add(o):e.classList.remove(o)}!function(){function r(t,n,o){const r={opts:o,vs:null,uls:[],active:null},a=function(t,n,o){const r=e(t);if(!r)return[];const i=r.tagName,s=[];for(const e of Array.from(t.children))if(e.tagName===i){const t=`${o}${n}-${s.length+1}`;s.push({elm:e,id:t})}return s}(t,n,o.hashPrefix);if(0===a.length)return!1;const u=[];for(const e of a){const n=s(a,e,o);t.insertBefore(n.ul,e.elm),u.push(n),r.uls.push(n.ul)}!function(t,e){for(const n of e)n.as.forEach(((n,o)=>{n.addEventListener("click",(()=>l(t,e[o].ul)))}));!function(t,e=!1,n={}){n.targets=n.targets??[],n.marginTop=n.marginTop??0,n.marginLeft=n.marginLeft??0,n.marginRight=n.marginRight??0,n.marginBottom=n.marginBottom??0,n.threshold=n.threshold??1,function(t,e,n){function o(){const o=1,i=s*o+"px "+e.marginRight*o+"px "+e.marginBottom*o+"px "+e.marginLeft*o+"px",l=new IntersectionObserver((e=>{const o=Array.from(r);for(let t=0;t<e.length;t+=1)o[n.indexOf(e[t].target)]=e[t].isIntersecting;(function(t,e){if(e.length!==t.length)return!1;for(let n=0;n<t.length;n+=1)if(t[n]!==e[n])return!1;return!0})(o,r)||t(o),r=o}),{rootMargin:i,threshold:e.threshold});for(let t=0;t<n.length;t+=1)l.observe(n[t]);return l}let r=Array(n.length).fill(!1),s=e.marginTop;if("OFFSET"!==s)return void o();let l=null,c=null;i((()=>{s=0,c&&clearTimeout(c),c=setTimeout((()=>{l&&l.disconnect(),l=o()}),100)}),!0)}(t,n,n.targets.concat())}((e=>{t.vs=e,c(t)}),!0,{targets:t.uls,marginTop:"OFFSET",threshold:0});const n=location.hash;if(-1!==n.indexOf("#")){const e=n.replace("#","");if(!e)return;const o=document.getElementById(e);0!==t.uls.indexOf(o)&&(t.active=o)}setTimeout((()=>c(t)),10)}(r,u)}function s(t,e,r){const i=document.createElement("ul");i.id=e.id,i.className="",o(!0,i,r.styleBar);const s=[];for(const l of t){const t=n(l),c=document.createElement("li");l===e&&o(!0,c,r.styleCurrent),c.appendChild(t),i.appendChild(c),s.push(t)}return{ul:i,as:s}}function l(t,e){t.active=e,setTimeout((()=>c(t)),10),setTimeout((()=>{if(t.active){const e=t.active.getBoundingClientRect().top;t.active=null,window.innerHeight<e&&c(t)}}),1e3)}function c(t){const e=t.active?t.active:function(t){return t.vs?t.uls.find(((e,n)=>t.vs[n])):null}(t);for(const n of t.uls)o(n===e,n,t.opts.styleActive)}t.tabScroll=function(t,e={}){if(0!==t.length){e=Object.assign({styleBar:":ncTabBar",styleCurrent:":ncCurrent",styleActive:":ncActive",hashPrefix:"tsc:"},e);for(let n=0;n<t.length;n+=1)r(t[n],n+1,e)}}}(),function(){function r(t){let e=u(t,location.hash);null===e&&(e=f(t,location.hash)),null!==e&&setTimeout((()=>h(t,e)),10)}function s(t,n,o){const r={opts:o,cont:t,ps:null,bars:[],curIdx:0},[i,s]=function(t,n,o){const r=e(t);if(!r)return[];const i=r.tagName,s=[],l=[];let c=null;for(const e of Array.from(t.children))if(e.tagName===i){const r=`${o.hashPrefix}${n}-${s.length+1}`;s.push({elm:e,id:r}),c&&l.push(c),c=document.createElement("div"),o.doRemoveHeader?t.removeChild(e):c.appendChild(e)}else c&&c.appendChild(e);c&&l.push(c);return[s,l]}(t,n,o);if(0===i.length)return!1;r.ps=s;const d=l(i,o),m=l(i,o);r.bars.push(d,m),t.insertBefore(d.ul,t.firstChild);for(const e of s)t.appendChild(e);return t.appendChild(m.ul),function(t){for(const e of t.bars)e.as.forEach(((e,n)=>{e.addEventListener("click",(e=>c(e,t,n)))}));const e=location.hash;let n=u(t,e);null===n&&(n=f(t,e));null===n&&(n=a(t)?-1:0);setTimeout((()=>h(t,n)),10)}(r),r}function l(t,e){const r=document.createElement("ul");r.className="",o(!0,r,e.styleBar);const i=[];for(const e of t){const t=n(e),o=document.createElement("li");o.appendChild(t),r.appendChild(o),i.push(t)}return{ul:r,as:i}}function c(t,e,n){if(t.preventDefault(),"none"===getComputedStyle(t.target.parentElement).pointerEvents)return;let o=t.target.href;e.curIdx===n&&(n=-1,o=o.replace(/#.*$/,"")),history.pushState({},null,o),h(e,n),function(t){if(-1===t.curIdx)return;setTimeout((()=>{const[{ul:e},{ul:n}]=t.bars,o=e.getBoundingClientRect();if(0<=o.top&&o.top<=window.innerHeight&&0<=o.bottom&&o.bottom<=window.innerHeight)return;const r=n.getBoundingClientRect();(a(t)||r.top<0||window.innerHeight<r.bottom)&&t.cont.scrollIntoView({behavior:"smooth"})}),10)}(e)}function a(t){return"column"===getComputedStyle(t.bars[0].ul).flexDirection}function u(t,e){if(-1===e.indexOf("#"))return null;const n=new RegExp(e+"$","g"),o=t.bars[0].as;for(let t=0;t<o.length;t+=1)if(o[t].href.match(n))return t;return null}function f(t,e){const n=e.replace("#",""),o=document.getElementById(n);if(!o)return null;for(let e=0;e<t.ps.length;e+=1)if(t.ps[e].contains(o))return e;return null}function h(t,e){const n=t.ps,[{as:r},{as:i}]=t.bars;for(let s=0;s<n.length;s+=1)o(s===e,r[s].parentElement,t.opts.styleCurrent),o(s===e,i[s].parentElement,t.opts.styleCurrent),o(s===e,n[s],t.opts.styleCurrent);t.curIdx=e}function d(t){const e=t.cont;if(a(t))e.style.minHeight="";else{const n=function(t){const[{ul:e},{ul:n}]=t.bars;let o=parseInt(getComputedStyle(e).marginBottom),r=parseInt(getComputedStyle(n).marginTop),i=0;for(const e of t.ps){const t=getComputedStyle(e),n=parseInt(t.marginTop),s=parseInt(t.marginBottom),l=e.getBoundingClientRect().height;o=Math.max(o,n),r=Math.max(r,s),i=Math.max(i,l)}return e.offsetHeight+n.offsetHeight+o+r+i}(t),o=n<window.innerHeight*t.opts.maxHeightRate?`${n}px`:"";e.style.minHeight=o,-1===t.curIdx&&h(t,0)}}t.tabStack=function(t,e={}){if(0===t.length)return;e=Object.assign({styleBar:":ncTabBar",styleCurrent:":ncCurrent",styleActive:":ncActive",hashPrefix:"tst:",maxHeightRate:.8,doRemoveHeader:!1},e);const n=[];for(let o=0;o<t.length;o+=1){const r=s(t[o],o+1,e);r&&n.push(r)}i((()=>n.forEach(d)),!0),window.addEventListener("hashchange",(()=>n.forEach(r)))}}();const r=[];function i(t,e=!1){e&&t(),r.push(function(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}(t))}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of r)t()}),{passive:!0})}))}(window.NACSS);
//# sourceMappingURL=tab.min.js.map