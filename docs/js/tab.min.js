"use strict";window.NACSS=window.NACSS||{},function(t){{function o(t,e={}){if(0===t.length)return;e=Object.assign({styleBar:":ncTabBar",styleCurrent:":ncCurrent",styleActive:":ncActive",hashPrefix:"tsc:"},e);const n=[];for(let o=0;o<t.length;o+=1){const r=c(t[o],o+1,e);r&&n.push(r)}window.addEventListener("hashchange",(()=>n.forEach(s)))}function s(t){const e=l(t,location.hash);t.active=e,setTimeout((()=>d(t)),10)}function c(t,e,n){const o={opts:n,vs:null,uls:[],active:null},r=a(t,e,n.hashPrefix);if(0===r.length)return!1;const s=location.hash.length<=1,i=[];return r.forEach(((e,c)=>{const l=u(r,e,n,s&&0===c);t.insertBefore(l.ul,e.elm),i.push(l),o.uls.push(l.ul)})),f(o,i),o.active=l(o,location.hash),setTimeout((()=>d(o)),100),o}function l(t,e){const n=e.replace("#","");if(""!==n){const e=document.getElementById(n);if(e&&0!==t.uls.indexOf(e))return e}return null}function a(t,n,o){const r=e(t);if(!r)return[];const s=r.tagName,i=[];for(const e of Array.from(t.children))if(e.tagName===s){const t=`${o}${n}-${i.length+1}`;i.push({elm:e,id:t})}return i}function u(t,e,o,s){const i=document.createElement("ul");i.id=e.id,i.className="",r(i,o.styleBar),s&&r(i,o.styleActive);const c=[];for(const s of t){const t=n(s),l=document.createElement("li");s===e&&r(l,o.styleCurrent),l.appendChild(t),i.appendChild(l),c.push(t)}return{ul:i,as:c}}function f(t,e){for(const n of e)n.as.forEach(((n,o)=>{n.addEventListener("click",(()=>h(t,e[o].ul)))}));!function(t,e,n=0,o="* 0px 0px 0px"){const r=Array(e.length).fill(!1),s=new Map;function c(){const i=new IntersectionObserver((e=>{for(const t of e)r[s.get(t.target)]=t.isIntersecting;t(r)}),{rootMargin:o.replace("*",`${l}px`),threshold:n});for(const t of e)i.observe(t);return i}e.forEach(((t,e)=>s.set(t,e)));let l=0,a=null,u=null;i((()=>{l=-function(){const t=getComputedStyle(document.documentElement),e=parseInt(t.scrollPaddingTop);return Number.isNaN(e)?0:e}(),u&&clearTimeout(u),u=setTimeout((()=>{a&&a.disconnect(),a=c()}),100)}),!0)}((e=>{t.vs=e,d(t)}),t.uls,0)}function h(t,e){t.active=e,setTimeout((()=>{if(t.active){const e=t.active.getBoundingClientRect().top;t.active=null,window.innerHeight<e&&d(t)}}),1e3)}function d(t){const e=t.active?t.active:m(t);for(const n of t.uls)r(n,t.opts.styleActive,n===e)}function m(t){return t.vs?t.uls.find(((e,n)=>t.vs[n])):null}t.tabScroll=o}{function o(t,e={}){if(0===t.length)return;e=Object.assign({styleBar:":ncTabBar",styleCurrent:":ncCurrent",styleActive:":ncActive",hashPrefix:"tst:",maxHeightRate:.8,doRemoveHeader:!1},e);const n=[];for(let o=0;o<t.length;o+=1){const r=c(t[o],o+1,e);r&&n.push(r)}i((()=>n.forEach(v)),!0),window.addEventListener("hashchange",(()=>n.forEach(s))),setTimeout((()=>{const t=location.hash.replace("#","");if(""!==t){const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}}),10)}function s(t){let e=l(t,location.hash);null===e&&(e=a(t,location.hash)),null!==e&&setTimeout((()=>g(t,e)),10)}function c(t,e,n){const o={opts:n,cont:t,ps:null,bars:[],curIdx:0},[r,s]=u(t,e,n);if(0===r.length)return!1;o.ps=s;const i=f(r,n),c=f(r,n);o.bars.push(i,c),t.insertBefore(i.ul,t.firstChild);for(const e of s)t.appendChild(e);t.appendChild(c.ul),h(o);const d=location.hash;let p=l(o,d);return null===p&&(p=a(o,d)),null===p&&(p=m(o)?-1:0),setTimeout((()=>g(o,p)),10),o}function l(t,e){if(-1===e.indexOf("#"))return null;const n=new RegExp(e+"$","g"),o=t.bars[0].as;for(let t=0;t<o.length;t+=1)if(o[t].href.match(n))return t;return null}function a(t,e){const n=e.replace("#","");if(""!==n){const e=document.getElementById(n);if(e){const n=t.ps.findIndex((t=>t.contains(e)));if(-1!==n)return n}}return null}function u(t,n,o){const r=e(t);if(!r)return[];const s=r.tagName,i=[],c=[];let l=null;for(const e of Array.from(t.children))if(e.tagName===s){const r=`${o.hashPrefix}${n}-${i.length+1}`;i.push({elm:e,id:r}),l&&c.push(l),l=document.createElement("div"),o.doRemoveHeader?t.removeChild(e):l.appendChild(e)}else l&&l.appendChild(e);return l&&c.push(l),[i,c]}function f(t,e){const o=document.createElement("ul");o.className="",r(o,e.styleBar);const s=[];for(const e of t){const t=n(e),r=document.createElement("li");r.appendChild(t),o.appendChild(r),s.push(t)}return{ul:o,as:s}}function h(t){for(const e of t.bars)e.as.forEach(((e,n)=>{e.addEventListener("click",(e=>d(e,t,n)))}))}function d(t,e,n){if(t.preventDefault(),"none"===getComputedStyle(t.target.parentElement).pointerEvents)return;let o=t.target.href;e.curIdx===n&&(n=-1,o=o.replace(/#.*$/,"")),history.pushState({},null,o),g(e,n),p(e)}function m(t){return"column"===getComputedStyle(t.bars[0].ul).flexDirection}function p(t){-1!==t.curIdx&&setTimeout((()=>{const[{ul:e},{ul:n}]=t.bars,o=e.getBoundingClientRect();if(0<=o.top&&o.top<=window.innerHeight&&0<=o.bottom&&o.bottom<=window.innerHeight)return;const r=n.getBoundingClientRect();(m(t)||r.top<0||window.innerHeight<r.bottom)&&t.cont.scrollIntoView({behavior:"smooth"})}),10)}function g(t,e){const n=t.ps,[{as:o},{as:s}]=t.bars;for(let i=0;i<n.length;i+=1)r(o[i].parentElement,t.opts.styleCurrent,i===e),r(s[i].parentElement,t.opts.styleCurrent,i===e),r(n[i],t.opts.styleCurrent,i===e);t.curIdx=e}function v(t){const e=t.cont;if(m(t))e.style.minHeight="";else{const n=C(t),o=n<window.innerHeight*t.opts.maxHeightRate?`${n}px`:"";e.style.minHeight=o,-1===t.curIdx&&g(t,0)}}function C(t){const[{ul:e},{ul:n}]=t.bars;let o=parseInt(getComputedStyle(e).marginBottom),r=parseInt(getComputedStyle(n).marginTop),s=0;for(const e of t.ps){const t=getComputedStyle(e),n=parseInt(t.marginTop),i=parseInt(t.marginBottom),c=e.getBoundingClientRect().height;o=Math.max(o,n),r=Math.max(r,i),s=Math.max(s,c)}return e.offsetHeight+n.offsetHeight+o+r+s}t.tabStack=o}function e(t){const e=t.children;for(let t=0;t<e.length;t+=1)if(/^H[1-6]$/.test(e[t].tagName))return e[t];return null}function n(t){const e=document.createElement("a");e.href="#"+t.id,e.title=t.elm.innerText;const n=t.elm.title?t.elm.title:t.elm.innerHTML;return e.innerHTML=n,e.querySelectorAll("small").forEach((t=>t.remove())),""===e.innerText&&(e.innerHTML=n),o(e),e}function o(t){for(const e of Array.from(t.children))if("A"===e.tagName||"SMALL"===e.tagName){const n=document.createElement("span");n.innerHTML=e.innerHTML,t.replaceChild(n,e),o(n)}else o(e)}function r(t,e,n=!0,o=""){const r=e.substr(1);if(e.startsWith(":"))n?t.dataset[r]=o:delete t.dataset[r];else{const e=[r,o].join("-");n?t.classList.add(e):t.classList.remove(e)}}const s=[];function i(t,e=!1){e&&t(),s.push(function(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}(t))}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of s)t()}),{passive:!0})}))}(window.NACSS);
//# sourceMappingURL=tab.min.js.map