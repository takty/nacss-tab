"use strict";window.NACSS=window.NACSS||{},window.NACSS.tab=window.NACSS.tab||{},(t=>{function e(t,e,n=!0,o=""){const i=e.substr(1);if(e.startsWith(":"))n?t.dataset[i]=o:delete t.dataset[i];else{const e=[i,o].join("-");n?t.classList.add(e):t.classList.remove(e)}}const n=[];function o(t,e=!1){e&&t(),n.push(function(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}(t))}function i(t,e,n=0,i="* 0px 0px 0px"){const s=Array(e.length).fill(!1),c=new Map;e.forEach(((t,e)=>c.set(t,e)));let r=0,l=null,u=null;o((()=>{r=-function(){const t=getComputedStyle(document.documentElement),e=parseInt(t.scrollPaddingTop);return Number.isNaN(e)?0:e}(),u&&clearTimeout(u),u=setTimeout((()=>{l&&l.disconnect(),l=function(){const o=new IntersectionObserver((e=>{for(const t of e)s[c.get(t.target)]=t.isIntersecting;t(s)}),{rootMargin:i.replace("*",`${r}px`),threshold:n});for(const t of e)o.observe(t);return o}()}),100)}),!0)}function s(t){const e=r(t,location.hash);t.active=e,setTimeout((()=>u(t)),10)}function c(t,n,o){const s={opts:o,vs:null,uls:[],active:null},c=function(t,e,n){const o=function(t){const e=t.children;for(let t=0;t<e.length;t+=1)if(/^H[1-6]$/.test(e[t].tagName))return e[t];return null}(t);if(!o)return[];const i=o.tagName,s=[];for(const o of[...t.children])if(o.tagName===i){const t=`${n}${e}-${s.length+1}`;s.push({elm:o,id:t})}return s}(t,n,o.hashPrefix);if(0===c.length)return!1;const f=location.hash.length<=1,d=[];return c.forEach(((n,i)=>{const r=function(t,n,o,i){const s=document.createElement("ul");s.id=n.id,s.className="",e(s,o.styleBar),i&&e(s,o.styleActive);const c=[];for(const i of t){const t=a(i),r=document.createElement("li");i===n&&(e(t,o.styleCurrent),e(r,o.styleCurrent)),r.appendChild(t),s.appendChild(r),c.push(t)}return{ul:s,as:c}}(c,n,o,f&&0===i);t.insertBefore(r.ul,n.elm),d.push(r),s.uls.push(r.ul)})),function(t,e){for(const n of e)n.as.forEach(((o,i)=>{o.addEventListener("click",(()=>l(t,n.ul,e[i].ul)))}));i((e=>{t.vs=e,u(t)}),t.uls,0)}(s,d),s.active=r(s,location.hash),setTimeout((()=>u(s)),100),s}function r(t,e){const n=e.replace("#","");if(""!==n){const e=document.getElementById(n);if(e&&0!==t.uls.indexOf(e))return e}return null}function l(t,e,n){if(n!==e){const t=e.getBoundingClientRect().top,o=n.getBoundingClientRect();o.y<t&&0<=o.y&&o.y+o.height<window.innerHeight&&setTimeout((()=>window.scrollBy({top:o.y-t})),200)}t.active=n,setTimeout((()=>{if(t.active){const e=t.active.getBoundingClientRect().top;t.active=null,window.innerHeight<e&&u(t)}}),1e3)}function u(t){const n=t.active?t.active:function(t){return t.vs?t.uls.find(((e,n)=>t.vs[n])):null}(t);for(const o of t.uls)e(o,t.opts.styleActive,o===n)}function a(t){const e=document.createElement("a");e.href="#"+t.id,e.title=t.elm.innerText;const n=t.elm.title?t.elm.title:t.elm.innerHTML;return e.innerHTML=n,e.querySelectorAll("small").forEach((t=>t.remove())),""===e.innerText&&(e.innerHTML=n),f(e),e}function f(t){for(const e of[...t.children])if("A"===e.tagName||"SMALL"===e.tagName){const n=document.createElement("span");n.innerHTML=e.innerHTML,t.replaceChild(n,e),f(n)}else f(e)}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of n)t()}),{passive:!0})})),t.applyScroll=function(t,e={}){if(0===t.length)return;e=Object.assign({styleBar:":ncTabBar",styleCurrent:":ncCurrent",styleActive:":ncActive",hashPrefix:"tsc:"},e);const n=[];for(let o=0;o<t.length;o+=1){const i=c(t[o],o+1,e);i&&n.push(i)}window.addEventListener("hashchange",(()=>n.forEach(s)))}})(window.NACSS.tab);//# sourceMappingURL=tab-scroll.min.js.map
